<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Js可拖拽的弹出框</title>
<!-- http://www.cnblogs.com/dtdxrk/archive/2012/08/28/2659700.html -->
<style type="text/css">
body {
	margin: 0;
}

.box {
	width: 350px;
	border: 1px solid #cfcfcf;
	box-shadow: 2px 3px 0 rgba(190, 190, 190, 0.3);
	/*让图片居中*/
	text-align: center;
	background-color: #fff;
	position: absolute;
}

.box h1 {
	height: 30px;
	line-height: 30px;
	font-size: 14px;
	text-align: left;
	padding-left: 15px;
	margin: 0;
	background-color: green;
	color: #fff;
	border-bottom: 1px solid #cfcfcf;
	cursor: move;
}
</style>
<body>

	<div class="box" id="popBox" style="top: 0px; left: 0px;">
		<h1>Js拖拽一个方法</h1>
		<p></p>
	</div>

	<div class="box" id="popBox2" style="top: 80px; left: 0px;">
		<h1>Js可拖拽的弹出框</h1>
		<p>
			<img src="http://www.baidu.com/img/shouye_b5486898c692066bd2cbaeda86d74448.gif" width="270" height="129">
		</p>
	</div>

	<script type="text/javascript">
		function Drag(id, zindex) {
			var box = document.getElementById(id), h1 = box.getElementsByTagName("h1")[0];
// 			var scrollHeight = window.screen.availHeight, scrollWidth = window.screen.availWidth;
			box.style.zIndex = zindex;

			h1.onmousedown = function(event) { //鼠标按钮被按下
				box.style.opacity = 0.5;
				box.style.filter = "alpha(opacity=50)";
				var event = window.event || event;
				var mouseX = event.clientX, mouseY = event.clientY, objY = parseInt(box.style.top), objX = parseInt(box.style.left);

				document.onmousemove = function(event) {
					var event = window.event || event;
					box.style.top = event.clientY - mouseY + objY + "px";
					box.style.left = event.clientX - mouseX + objX + "px";
				}

				document.onmouseup = function() { //鼠标按键松开
					box.style.opacity = 1;
					box.style.filter = "alpha(opacity=100)";
					document.onmousemove = null;
				}
			}
		}

		var box1 = new Drag("popBox", 2);
		var box2 = new Drag("popBox2", 3);
	</script>

</body>
</html>