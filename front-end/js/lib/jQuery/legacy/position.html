<!DOCTYPE html>
<html>
<head>
<style>
#outer {
	width: 500px;
	height: 500px;
	background-color: #acacac;
	position: relative;
}

#inner {
	width: 100px;
	height: 100px;
	background-color: red;
	margin: 100px;
	position: absolute;
	left: 10px;
	top: 10px;
}
</style>
<script src="../lib/jquery.min.js"></script>
</head>
<body>

	<div id="outer">
		<div id="inner"></div>
	</div>
	<script type="text/javascript">
		//getPosition()方法获取元素的坐标和jQuery中的offset()方法一致。
		function getPosition(obj) {
			//使用offsetWidth和offsetHeight可以直接获取到元素的大小，不区分在内联样式中还是样式表中定义。
			//使用style.width和style.height只能获取内联样式中的大小，样式表和外联样式中定义的没有办法直接获取到。
			
			//offsetWidth和offsetHeight获取的大小包括border和padding，相当于jQuery的outerWidth()和outerHeight()。
			var top = 0, left = 0, width = obj.offsetWidth, height = obj.offsetHeight;
			while (obj.offsetParent) {
				top += obj.offsetTop;
				left += obj.offsetLeft;
				obj = obj.offsetParent;
			}
			return {
				"top" : top,
				"left" : left,
				"width" : width,
				"height" : height
			};
		}
	</script>
	<script>
		var inner = $("#inner");
		var position = inner.position();
		var offset = inner.offset();
		//getPosition()方法获取：计算margin部分的元素距离第一个非static定位父元素的坐标
		console.info("position: " + JSON.stringify(position));
		console.info("getPosition: " + JSON.stringify(getPosition(document.getElementById("inner"))));
		//offset()方法获取：不计算margin部分的元素距离document的坐标
		console.info("offset: " + JSON.stringify(offset));
	</script>

</body>
</html>